"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e,t=require("react"),n=(e=t)&&"object"==typeof e&&"default"in e?e.default:e;function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var s=function(e){function t(t){var n;return(n=e.call(this,t)||this).containerRef=null,n.state={innerRatio:0,outerRatio:0},n.updateContainerRatio=n.updateContainerRatio.bind(r(n)),n.updateVideoRatio=n.updateVideoRatio.bind(r(n)),n.initEventListeners=n.initEventListeners.bind(r(n)),n.removeEventListeners=n.removeEventListeners.bind(r(n)),n}o(t,e);var s=t.prototype;return s.componentDidMount=function(){this.updateContainerRatio(),"function"==typeof this.props.onFallbackDidMount&&this.props.onFallbackDidMount(this.updateContainerRatio),this.props.remeasureOnWindowResize&&this.initEventListeners()},s.componentWillReceiveProps=function(e){e.remeasureOnWindowResize!==this.props.remeasureOnWindowResize&&(e.remeasureOnWindowResize?this.initEventListeners():this.removeEventListeners())},s.componentWillUnmount=function(){this.removeEventListeners(),"function"==typeof this.props.onFallbackWillUnmount&&this.props.onFallbackWillUnmount()},s.updateContainerRatio=function(){if(this.containerRef){var e=this.containerRef.getBoundingClientRect();this.setState({outerRatio:e.width/e.height})}},s.updateVideoRatio=function(e,t){this.setState({innerRatio:e/t})},s.initEventListeners=function(){window.addEventListener("resize",this.updateContainerRatio)},s.removeEventListeners=function(){window.removeEventListener("resize",this.updateContainerRatio)},s.render=function(){var e=this,t=this.state,o=t.innerRatio,r=t.outerRatio,s={width:o>r?"auto":"100%",height:o>r?"100%":"auto",position:"absolute",top:-9999,bottom:-9999,left:-9999,right:-9999,margin:"auto"},a=i({width:"100%",height:"100%"},this.props.style,{position:"relative",overflow:"hidden"});return n.createElement("div",{style:a,ref:function(t){e.containerRef=t},className:this.props.className},n.createElement("video",Object.assign({onLoadedData:function(t){e.updateVideoRatio(t.currentTarget.videoWidth,t.currentTarget.videoHeight)},style:s},this.props.videoOptions)))},t}(t.Component),a=function(e){function t(){return e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){var e=i({width:"100%",height:"100%"},this.props.style,{objectFit:"cover"});return this.props.forceFallback||"undefined"!=typeof window&&/MSIE|Trident|Edge/.test(window.navigator.userAgent)?n.createElement(s,Object.assign({},this.props)):n.createElement("video",Object.assign({className:this.props.className,style:e},this.props.videoOptions))},t}(t.Component);a.defaultProps={forceFallback:!1,remeasureOnWindowResize:!1},exports.default=a;
//# sourceMappingURL=react-video-cover.cjs.production.min.js.map
